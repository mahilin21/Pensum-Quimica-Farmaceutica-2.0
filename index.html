<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pensum Ingenier√≠a Biom√©dica</title>

<style>
:root{
    --azul-oscuro:#1e3a8a;
    --azul-medio:#3b82f6;
    --azul-claro:#dbeafe;
    --azul-bloqueado:#eef2ff;
    --azul-coreq:#2563eb;
}

body{
    font-family:"Segoe UI",system-ui,sans-serif;
    background:#f5f8ff;
    margin:0;
    padding:20px;
    color:#1e293b;
}

h1{
    text-align:center;
    margin-bottom:2px;
}

.subtitle{
    text-align:center;
    font-size:13px;
    opacity:.8;
    margin-bottom:14px;
}

#creditsTotal{
    text-align:center;
    font-weight:600;
    margin-bottom:10px;
}

.progress-container{
    max-width:900px;
    margin:0 auto 25px;
    background:#e0e7ff;
    border-radius:12px;
    overflow:hidden;
    height:14px;
}

.progress-bar{
    height:100%;
    background:linear-gradient(90deg,#3b82f6,#60a5fa);
    width:0%;
    transition:.3s;
}

.grid{
    display:grid;
    grid-template-columns:repeat(10,240px);
    gap:14px;
    overflow-x:auto;
    padding-bottom:20px;
}

.semester{
    background:white;
    border-radius:16px;
    padding:10px;
    box-shadow:0 5px 10px rgba(0,0,0,.05);
}

.semester h2{
    text-align:center;
    font-size:14px;
    color:var(--azul-oscuro);
    margin-bottom:10px;
}

.course{
    background:var(--azul-medio);
    color:white;
    padding:8px 9px;
    border-radius:12px;
    margin-bottom:8px;
    cursor:pointer;
    font-size:13px;
    position:relative;
    transition:.2s;
}

.course:hover:not(.locked){
    transform:scale(1.02);
}

.course .code{
    font-size:10px;
    opacity:.9;
    font-weight:600;
}

.course small{
    display:block;
    font-size:11px;
    opacity:.9;
}

.course.approved{
    background:var(--azul-claro);
    color:#1e40af;
    text-decoration:line-through;
}

.course.locked{
    background:var(--azul-bloqueado);
    color:#64748b;
    cursor:not-allowed;
}

/* üî¨ Correquisitos */
.course.coreq{
    border:2px dashed var(--azul-coreq);
}

.course.coreq::after{
    content:" üî¨";
}

.tooltip{
    position:absolute;
    bottom:105%;
    left:50%;
    transform:translateX(-50%);
    background:#1e40af;
    color:white;
    font-size:11px;
    padding:6px 8px;
    border-radius:6px;
    display:none;
    white-space:nowrap;
    z-index:20;
}

.course.locked:hover .tooltip{
    display:block;
}
</style>
</head>

<body>

<h1>Pensum Ingenier√≠a Biom√©dica</h1>
<div class="subtitle">Universidad de Antioquia</div>

<div id="creditsTotal"></div>

<div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
</div>

<div class="grid" id="grid"></div>

<script>
const TOTAL_CREDITS = 170;
let approved = JSON.parse(localStorage.getItem("ib-approved")||"[]");

const semesters = [
{
name:"Semestre 1",
courses:[
{id:"IB101",name:"C√°lculo Diferencial",cr:4},
{id:"IB102",name:"√Ålgebra Lineal",cr:3},
{id:"IB103",name:"Introducci√≥n a la Ingenier√≠a Biom√©dica",cr:2},
{id:"IB104",name:"Programaci√≥n I",cr:3},
{id:"IB105",name:"Comunicaci√≥n Escrita",cr:2}
]},
{
name:"Semestre 2",
courses:[
{id:"IB201",name:"C√°lculo Integral",cr:4,pr:["IB101"]},
{id:"IB202",name:"F√≠sica Mec√°nica",cr:4,pr:["IB101"]},
{id:"IB203",name:"Programaci√≥n II",cr:3,pr:["IB104"]},
{id:"IB204",name:"Probabilidad y Estad√≠stica",cr:3},
{id:"IB205",name:"√âtica Profesional",cr:2}
]},
{
name:"Semestre 3",
courses:[
{id:"IB301",name:"C√°lculo Multivariado",cr:4,pr:["IB201"]},
{id:"IB302",name:"F√≠sica Electricidad y Magnetismo",cr:4,pr:["IB202"]},
{id:"IB303",name:"Estructuras de Datos",cr:3,pr:["IB203"]},
{id:"IB304",name:"Se√±ales y Sistemas",cr:3,pr:["IB201","IB202"]},
{id:"IB305",name:"Biolog√≠a Celular",cr:3}
]},
{
name:"Semestre 4",
courses:[
{id:"IB401",name:"Ecuaciones Diferenciales",cr:3,pr:["IB301"]},
{id:"IB402",name:"Electr√≥nica B√°sica",cr:3,pr:["IB302"]},
{id:"IB403",name:"Lab. Electr√≥nica B√°sica",cr:1,coreq:["IB402"]},
{id:"IB404",name:"Fisiolog√≠a Humana",cr:3,pr:["IB305"]},
{id:"IB405",name:"An√°lisis Num√©rico",cr:3,pr:["IB301"]}
]},
{
name:"Semestre 5",
courses:[
{id:"IB501",name:"Electr√≥nica Anal√≥gica",cr:3,pr:["IB402"]},
{id:"IB502",name:"Lab. Electr√≥nica Anal√≥gica",cr:1,coreq:["IB501"]},
{id:"IB503",name:"Instrumentaci√≥n Biom√©dica I",cr:3,pr:["IB304","IB402"]},
{id:"IB504",name:"Biomec√°nica",cr:3,pr:["IB404","IB202"]},
{id:"IB505",name:"Procesamiento Digital de Se√±ales",cr:3,pr:["IB304"]}
]},
{
name:"Semestre 6",
courses:[
{id:"IB601",name:"Electr√≥nica Digital",cr:3,pr:["IB501"]},
{id:"IB602",name:"Lab. Electr√≥nica Digital",cr:1,coreq:["IB601"]},
{id:"IB603",name:"Instrumentaci√≥n Biom√©dica II",cr:3,pr:["IB503"]},
{id:"IB604",name:"Im√°genes M√©dicas",cr:3,pr:["IB505"]},
{id:"IB605",name:"Electiva I",cr:2}
]},
{
name:"Semestre 7",
courses:[
{id:"IB701",name:"Control de Sistemas",cr:3,pr:["IB401","IB304"]},
{id:"IB702",name:"Lab. Control de Sistemas",cr:1,coreq:["IB701"]},
{id:"IB703",name:"Bioinstrumentaci√≥n Cl√≠nica",cr:3,pr:["IB603"]},
{id:"IB704",name:"Ingenier√≠a de Rehabilitaci√≥n",cr:3,pr:["IB504"]},
{id:"IB705",name:"Electiva II",cr:2}
]},
{
name:"Semestre 8",
courses:[
{id:"IB801",name:"Procesamiento de Im√°genes M√©dicas",cr:3,pr:["IB604"]},
{id:"IB802",name:"Biomec√°nica Avanzada",cr:3,pr:["IB504"]},
{id:"IB803",name:"Gesti√≥n de Tecnolog√≠a en Salud",cr:2},
{id:"IB804",name:"Proyecto I",cr:3,pr:["IB703","IB701"]},
{id:"IB805",name:"Electiva III",cr:2}
]},
{
name:"Semestre 9",
courses:[
{id:"IB901",name:"Regulaci√≥n y Normatividad Biom√©dica",cr:2},
{id:"IB902",name:"Ingenier√≠a Cl√≠nica",cr:3,pr:["IB703"]},
{id:"IB903",name:"Proyecto II",cr:4,pr:["IB804"]},
{id:"IB904",name:"Electiva IV",cr:2}
]},
{
name:"Semestre 10",
courses:[
{id:"IB1001",name:"Trabajo de Grado",cr:8,pr:["IB903"]},
{id:"IB1002",name:"Electiva V",cr:2}
]}
];

const grid=document.getElementById("grid");

function isApproved(id){return approved.includes(id);}

function currentCredits(){
    let sum=0;
    semesters.forEach(s=>s.courses.forEach(c=>{
        if(isApproved(c.id)) sum+=c.cr;
    }));
    return sum;
}

function canUnlock(c){
    if(c.pr && !c.pr.every(p=>isApproved(p))) return false;
    if(c.coreq && !c.coreq.some(q=>isApproved(q))) return false;
    return true;
}

function render(){
    grid.innerHTML="";
    let credits=currentCredits();

    semesters.forEach(s=>{
        const col=document.createElement("div");
        col.className="semester";
        col.innerHTML=`<h2>${s.name}</h2>`;

        s.courses.forEach(c=>{
            const d=document.createElement("div");
            const unlocked=canUnlock(c);

            d.className="course";
            if(c.coreq) d.classList.add("coreq");
            if(!unlocked && !isApproved(c.id)) d.classList.add("locked");
            if(isApproved(c.id)) d.classList.add("approved");

            let tip=[];
            if(c.pr) tip.push("PR: "+c.pr.join(", "));
            if(c.coreq) tip.push("CO: "+c.coreq.join(", "));

            d.innerHTML=`
                <div class="code">${c.id}</div>
                ${c.name}
                <small>${c.cr} cr√©ditos</small>
                <div class="tooltip">${tip.join(" | ")}</div>
            `;

            d.onclick=()=>{
                if(!unlocked && !isApproved(c.id)) return;
                approved=isApproved(c.id)
                    ?approved.filter(x=>x!==c.id)
                    :[...approved,c.id];
                localStorage.setItem("ib-approved",JSON.stringify(approved));
                render();
            };

            col.appendChild(d);
        });
        grid.appendChild(col);
    });

    document.getElementById("creditsTotal").textContent=
        `Cr√©ditos aprobados: ${credits} / ${TOTAL_CREDITS}`;

    document.getElementById("progressBar").style.width=
        Math.min(credits/TOTAL_CREDITS*100,100)+"%";
}

render();
</script>
</body>
</html>

